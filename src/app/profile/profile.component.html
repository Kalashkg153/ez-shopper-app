<section class="profile-section p-5">
    <div class="container w-50 mx-auto mt-5">
        <div class="card shadow-lg">
            <div class="card-header bg-primary text-white text-center">
                <h3>User Profile</h3>
            </div>
            <div class="card-body">
                <table class="table table-bordered">
                    <tbody>
                        <tr>
                            <th>Full Name</th>
                            <td>{{profileForm.controls['fullName'].value}}</td>
                        </tr>
                        <tr>
                            <th>Email</th>
                            <td>{{profileForm.controls['email'].value}}</td>
                        </tr>
                        <tr>
                            <th>Contact</th>
                            <td>{{profileForm.controls['contact'].value}}</td>
                        </tr>
                        <tr>
                            <th>Address</th>
                            <td>{{profileForm.controls['address'].value}}</td>
                        </tr>
                        <tr>
                            <th>Pincode</th>
                            <td>{{profileForm.controls['pincode'].value}}</td>
                        </tr>
                        <tr>
                            <th>Role</th>
                            <td>USER</td>
                        </tr>
                    </tbody>
                </table>
                <div class="text-center p-3">
                    <button (click)="openUpdatePasswordModal(updatePasswordContent)" class="btn btn-lg mx-3 btn-warning">Change Password</button>
                    <button (click)="openUpdateProfileModal(content)" class="btn btn-lg mx-3 btn-warning">Edit Profile</button>
                    <button (click)="logout()" class="btn btn-lg mx-3 btn-danger">Logout</button>
                </div>
            </div>
        </div>
    </div>
</section>

<ng-template #content let-modal>
	<div class="container mt-5">
        <div class="card border-0 rounded-3 p-4">
            <div class="card-header bg-primary text-white text-center py-3">
                <h3 class="mb-0">Edit Profile</h3>
            </div>
            <div class="card-body">
                <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
                    <div class="mb-3">
                        <label class="form-label fw-bold">Full Name</label>
                        <input type="text" class="form-control" formControlName="fullName">
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-bold">Email</label>
                        <input type="email" class="form-control" formControlName="email">
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-bold">Contact</label>
                        <input type="text" class="form-control" formControlName="contact">
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-bold">Address</label>
                        <input type="text" class="form-control" formControlName="address">
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-bold">Pincode</label>
                        <input type="text" class="form-control" formControlName="pincode">
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-bold">Role</label>
                        <input type="text" class="form-control" formControlName="role">
                    </div>

                    <div class="modal-footer">
                        <button type="submit" class="btn btn-lg btn-warning">Save Changes</button>
                        <button type="button" class="btn btn-lg btn-danger" (click)="modal.close('Close click')">Close</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #updatePasswordContent let-modal>
	<div class="container mt-5">
        <div class="card border-0 rounded-3 p-4">
            <div class="card-header bg-primary text-white text-center py-3">
                <h3 class="mb-0">Change Password</h3>
            </div>
            <div class="card-body">
                <form [formGroup]="updatePasswordForm" (ngSubmit)="onPasswordFormSubmit()">
                    <div class="mb-3">
                        <label class="form-label fw-bold">Old Password</label>
                        <input type="text" class="form-control" formControlName="oldPassword">
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-bold">New Password</label>
                        <input type="password" class="form-control" formControlName="newPassword">
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-bold">Confirm New Password</label>
                        <input type="password" class="form-control">
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-lg btn-warning"> Update Password</button>
                        <button type="button" class="btn btn-lg btn-danger" (click)="modal.close('Close click')">Close</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</ng-template>